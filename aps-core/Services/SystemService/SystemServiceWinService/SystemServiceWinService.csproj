<Project>
	<Import Project="Sdk.props" Sdk="Microsoft.NET.Sdk" />
	<!-- Import shared properties and targets. Including framework version -->
	<Import Project="..\..\..\SolutionMiscFiles\ProjectSharedTargetsWindows.props" />
  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <RootNamespace>PT.SystemServiceWinService</RootNamespace>
    <AssemblyName>PlanetTogether System</AssemblyName>
	<RuntimeIdentifiers>win-x64</RuntimeIdentifiers>
	  <AppendRuntimeIdentifierToOutputPath>false</AppendRuntimeIdentifierToOutputPath>
  </PropertyGroup>
  <PropertyGroup>
    <StartupObject>PT.SystemServiceWinService.Program</StartupObject>
  </PropertyGroup>
  <ItemGroup>
    <Compile Update="Service.cs" />
    <Compile Update="Service.Designer.cs">
      <DependentUpon>Service.cs</DependentUpon>
    </Compile>
  </ItemGroup>
	<ItemGroup>
		<Compile Include="..\..\..\SolutionMiscFiles\AssemblyInfoShared.cs">
			<Link>Properties\AssemblyInfoShared.cs</Link>
		</Compile>
	</ItemGroup>
	<ItemGroup>
    <ProjectReference Include="..\..\..\CommonProjects\Common\Common.csproj" />
    <ProjectReference Include="..\..\..\CommonProjects\PackageDefinitions\PackageDefinitions.csproj" />
    <ProjectReference Include="..\..\..\Scheduling\SchedulerData\SchedulerData.csproj" />
    <ProjectReference Include="..\..\..\Scheduling\SchedulerDefinitions\SchedulerDefinitions.csproj" />
    <ProjectReference Include="..\..\..\Scheduling\SchedulerExtentions\SchedulerExtensions.csproj" />
    <ProjectReference Include="..\..\..\Scheduling\Scheduler\Scheduler.csproj" />
    <ProjectReference Include="..\..\Definitions\APIDefintion\APIDefinitions.csproj" />
    <ProjectReference Include="..\..\PlanetTogetherAPI\PlanetTogetherAPI.csproj" />
    <ProjectReference Include="..\SystemServiceProxy\SystemServiceProxy\SystemServiceProxy.csproj" />
  </ItemGroup>
  <ItemGroup>
	<PackageReference Include="Quartz" Version="3.14.0" />
	<PackageReference Include="System.ServiceProcess.ServiceController" Version="9.0.6" />
  </ItemGroup>
	<ItemGroup>
    <Content Include="BuildPublisher.xml" />
  </ItemGroup>
  <Import Project="Sdk.targets" Sdk="Microsoft.NET.Sdk" />
	<!--Dotfuscate-->
  <PropertyGroup>
	  <!-- Generate a default Dotfuscator config file (DotfuscatorConfig.xml) if it doesn't exist. -->
	  <!-- TODO: Set this to false after the file is generated by the first local build. -->
	  <DotfuscatorGenerateConfigFileIfMissing>false</DotfuscatorGenerateConfigFileIfMissing>
	  <!-- Enable Dotfuscator for Release builds. -->
	  <DotfuscatorEnabled Condition="'$(Configuration)' == 'Release'">true</DotfuscatorEnabled>
	  <NoWin32Manifest>true</NoWin32Manifest>
  </PropertyGroup>
  <Import Project="..\..\..\packages\$(DotfuscatorPath)\PreEmptive.Dotfuscator.Common.targets" Condition="'$(Configuration)' == 'Release'" />
  <!--End Dotfuscate region-->
</Project>